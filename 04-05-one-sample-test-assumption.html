<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.313">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>one-sample-test-assumption</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="04-05-one-sample-test-assumption_files/libs/clipboard/clipboard.min.js"></script>
<script src="04-05-one-sample-test-assumption_files/libs/quarto-html/quarto.js"></script>
<script src="04-05-one-sample-test-assumption_files/libs/quarto-html/popper.min.js"></script>
<script src="04-05-one-sample-test-assumption_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="04-05-one-sample-test-assumption_files/libs/quarto-html/anchor.min.js"></script>
<link href="04-05-one-sample-test-assumption_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="04-05-one-sample-test-assumption_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="04-05-one-sample-test-assumption_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="04-05-one-sample-test-assumption_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="04-05-one-sample-test-assumption_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">



<section id="sec-one-sample-test-assumptions" class="level1">
<h1>One-Sample t-Test: Assumptions and Errors</h1>
<p>In this chapter you will learn about the assumptions for the results of a one-sample <em>t</em>-test to be statistically valid. You will also learn about the errors that we can potentially make in hypothesis testing when we draw conclusions.</p>
<p>To introduce the idea of effect sizes, recall that in <strong>?@sec-one-sample-test-r</strong>, we evaluated whether teens were getting the recommended amount of sleep, testing the hypotheses:</p>
<p><span class="math display">\[
\begin{split}
H_0: \mu = 9 \\[1ex]
H_A: \mu &lt; 9
\end{split}
\]</span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(educate)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggformula)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(mosaic)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Import data</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>teen_sleep <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"https://raw.githubusercontent.com/zief0002/epsy-5261/main/data/teen-sleep.csv"</span>)</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="co"># View data</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>teen_sleep</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 75 × 3
   bedtime  wakeup  hrs_sleep
   &lt;chr&gt;    &lt;chr&gt;       &lt;dbl&gt;
 1 22:15:00 5:25:00      7.17
 2 22:5:00  5:50:00      7.75
 3 22:15:00 5:45:00      7.5 
 4 20:0:00  6:20:00     10.3 
 5 23:45:00 5:50:00      6.08
 6 22:5:00  6:0:00       7.92
 7 0:25:00  5:20:00      4.92
 8 21:10:00 6:15:00      9.08
 9 21:20:00 5:15:00      7.92
10 21:10:00 5:30:00      8.33
# ℹ 65 more rows</code></pre>
</div>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># One-sample t-test</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>my_t <span class="ot">&lt;-</span> <span class="fu">t_test</span>(<span class="sc">~</span>hrs_sleep, <span class="at">data =</span> teen_sleep, <span class="at">mu =</span> <span class="dv">9</span>, <span class="at">alternative =</span> <span class="st">"less"</span>)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="co"># View t-distribution</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_t_dist</span>(my_t)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="04-05-one-sample-test-assumption_files/figure-html/load-packages-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Based on these results, we rejected the null hypothesis (<span class="math inline">\(p=.0000000000000433\)</span>). The data suggested that the average amount of sleep teens are getting is likely less than 9 hours and that this result is not only because of sampling uncertainty. That is, the empirical evidence is pointing us to the conclusion that teens are not getting the recommended amount of sleep.</p>
<p>This result is useful for answering the first of the three questions applied researchers often ask, namely, is an observed effect real or should it be attributed to chance? In this case, it is not very likely that the observed effect is only attributable to chance. That is what “statistical significance” implies.</p>
<p>This result, however, brings about a follow-up question: How much sleep are teens getting, on average? We suspect it is less than 9 hours, but how much less? To answer this question we need to produce a <em>statistical estimate</em> for the population mean (<span class="math inline">\(\mu\)</span>). A more general name for a statistical estimate of a parameter is an <em>effect size</em>. Based on an effect size, we can answer the other two questions: If the effect is real, how large is it? and Is the effect large enough to be useful?</p>
<p><br></p>
<section id="parameter-estimation" class="level2">
<h2 class="anchored" data-anchor-id="parameter-estimation">Parameter Estimation</h2>
<p>One measure of effect is an estimation of a population parameter that is being tested in the hypothesis test. For example, in the teen sleep study, we would be interested in estimating the population mean amount of sleep teens get a night (i.e., what is the value of <span class="math inline">\(\mu\)</span>?).<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a></p>
<p><br></p>
<section id="point-estimates" class="level3">
<h3 class="anchored" data-anchor-id="point-estimates">Point Estimates</h3>
<p>One approach to estimating a parameter of interest is to obtain a single value based on a sample of data that is the best possible empirical approximation of that parameter. For instance, the single best approximation for the population mean (<span class="math inline">\(\mu\)</span>) would be the sample mean <span class="math inline">\(\bar{x}\)</span>. These best single number approximations are called <em>point estimates</em>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Compute numerical summaries to get sample mean</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="fu">df_stats</span>(<span class="sc">~</span>hrs_sleep, <span class="at">data =</span> teen_sleep)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   response      min       Q1   median       Q3      max     mean       sd  n
1 hrs_sleep 4.166667 6.541667 7.583333 8.291667 11.08333 7.391111 1.522724 75
  missing
1       0</code></pre>
</div>
</div>
<p>The point estimate for <span class="math inline">\(\mu\)</span> based on the sample data is 7.39 hours. That is, our best single number approximation for the amount of sleep teenagers get, on average, is 7.39 hours.</p>
<p><br></p>
</section>
<section id="interval-estimates" class="level3">
<h3 class="anchored" data-anchor-id="interval-estimates">Interval Estimates</h3>
<p>While the point estimate, is a good guess for the value of the true population parameter, we also understand that there is uncertainty in the estimate because of sampling error. An interval estimate offers a probabilistic statement about the range of plausible values for the parameter being estimated that accounts for the sampling uncertainty. Interval estimates are also known as <em>confidence intervals</em>.</p>
<p>We can compute the <em>confidence limits</em> for an interval estimate by using the point estimate for a given parameter and then taking into account the amount of uncertainty due to sampling error:</p>
<p><span class="math display">\[
\text{Point Estimate} \pm \text{Uncertainty}
\]</span></p>
<p>The confidence limits act as lower and upper bounds on what we think the value of the parameter is.</p>
<p><span class="math display">\[
\bigg(\text{Point Estimate} − \text{Uncertainty}\bigg) \leq \text{Parameter} \leq \bigg(\text{Point Estimate} + \text{Uncertainty}\bigg)
\]</span></p>
<p>The important piece in constructing the confidence limits is computing the amount of uncertainty. There are typically two sources we consider when computing the uncertainty: (1) the uncertainty attributable to random sampling (i.e., the <em>SE</em>), and (2) the confidence level. Since the confidence interval is a probabilistic statement about the value of the parameter, we need to identify the level of probability/degree of confidence that we want in the interval estimate. For example, do we want to be 60% confident that the parameter is included in the range we give? Or do we want to be 90% confident that the parameter is included in the range we give?</p>
<div class="fyi">
<p>Technically, the level of confidence identifies the fraction of time, under repeated sampling, that the intervals constructed will contain the parameter of interest. This is a mathematical technicality, and in practice, we interpret this as the probability that the parameter falls within the interval.</p>
</div>
<p>They way we incorporate the confidence level is to cand the sampling uncertainty is to</p>
<p>For example, if we were computing the a confidence interval for the mean, the confidence limits would give us the lower and upper bounds for values of <span class="math inline">\(\mu\)</span>. In other words, based on the data</p>
<p><span class="math display">\[
\bigg(\bar{x} − \text{Uncertainty}\bigg) \leq \mu \leq \bigg(\bar{x} + \text{Uncertainty}\bigg)
\]</span></p>
<p>These bounds we believe will provide endpoints or limits on the values that the parameter is likely to take on.</p>
<p>it would certainly be desirable to have some idea of how close the true parameter might be to our point estimate. We can’t expect to know how close our estimate is exactly to the parameter (for that to happen we</p>
<p>This is one reason that we compute numerical summaries of the sample when we</p>
<p>a given population there may be any number of parameters in which we may be interested (e.g., μ, σ, etc.).</p>
<p>Effect sizes have been fully embraced by the American Psychological Association (APA). Their Publication Manual (2002) states, “For the reader to fully understand the importance of your findings, it</p>
<p>In this case study, researchers collected data on the bedtime, wake-up time, and hours slept for a sample of <span class="math inline">\(n=75\)</span> American teens in Grades 9–12. These data were used to evaluate the following statistical hypotheses For example, here are a set of potential hypotheses about teen sleep:</p>
<!-- The analysis started by importing the data and visualizing and numerically describing the amopunt of sleep for the teens in our sample. -->
<!-- ```{r} -->
<!-- #| label: fig-hrs-sleep -->
<!-- #| fig-cap: "Density plot of the hours of sleep for 75 teenagers." -->
<!-- #| warning: false -->
<!-- # Create density plot -->
<!-- gf_density( -->
<!--   ~ hrs_sleep, data = teen_sleep, -->
<!--   color = "black",  -->
<!--   fill = "skyblue", -->
<!--   xlab = "Hours of Sleep", -->
<!--   ylab = "Density" -->
<!--   ) -->
<!-- # Compute numerical summaries -->
<!-- df_stats(~hrs_sleep, data = teen_sleep) -->
<!-- ``` -->
<!-- These analyses suggest that, on average, the 75 teens in the sample are not getting the recommended 9 hours of sleep a night. They seem to be getting much less sleep on average, with a typical teen in the sample getting around 7.5 hours of sleep a night (*SD* = 1.5). To evaluate whether this lower amount of sleep we are seeing in the sample data is only a function of sampling uncertainty, we will carry out a one-sample *t*-test. To do this, we need to convert our sample mean to a *t*-value and then evaluate it in a *t*-distribution with $n-1$ *df*. -->
<!-- $$ -->
<!-- t = \frac{\mathrm{Obs.~Mean} - \mathrm{Hyp.~Mean}}{SE} -->
<!-- $$ -->
<!-- We have the observed mean ($\bar{x}=7.39$), and the hypothesized mean ($\mu=9$) from the data and null hypothesis, respectively. To obtain the *SE* we bootstrapped from the data. -->
<!-- ```{r} -->
<!-- # Draw a bootstrap sample of 75 observations and compute the mean -->
<!-- # Do this 1000 times  -->
<!-- # Assign these into an object called bootstrap_means -->
<!-- set.seed(42) -->
<!-- bootstrap_means <- do(1000) * {mean(sample(teen_sleep$hrs_sleep, size = 75, replace = TRUE))} -->
<!-- # Compute numerical summaries to get SE -->
<!-- df_stats(~result, data = bootstrap_means) -->
<!-- ``` -->
<!-- Based on the bootstrapping, the *SE* is 0.170. Putting this together, we compute the *t*-value as: -->
<!-- $$ -->
<!-- \begin{split} -->
<!-- t &= \frac{7.39 - 9}{.170} \\[2ex] -->
<!-- &= -9.47 -->
<!-- \end{split} -->
<!-- $$ -->
<!-- We can then sketch the *t*-distribution with 74 *df*, include the *t*-value we just computed, and shade the area under the density plot that corresponds to the alternative hypothesis. -->
<div class="cell">
<div class="cell-output-display">
<div id="fig-t-dist" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="04-05-one-sample-test-assumption_files/figure-html/fig-t-dist-1.png" class="img-fluid figure-img" style="width:80.0%"></p>
<p></p><figcaption class="figure-caption">Figure&nbsp;1: Density plot of the <em>t</em>-distribution of the sample means based on the thought experiment underlying a hypothesis test assuming that the mean amount of sleep for all tennagers is 9 hours (<em>t</em> value of 0). The blue shaded area represents the <em>t</em>-values we expect if the null hypothesis is true. The pink dot represents the observed <em>t</em>-value of -9.47.</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p>The <em>p</em>-value (proportion of the pink shaded area to the whole area under the curve) is quite small. Because it is so small, it is difficult to even estimate its size—<span class="math inline">\(p&lt;.001\)</span>. This small <em>p</em>-value leads us to <em>reject the null hypothesis</em>, indicating that the data suggest that the average amount of sleep teens are getting is likely less than 9 hours and that this result is not only because of sampling uncertainty. That is, the empirical evidence is pointing us to the conclusion that teens are not getting the recommended amount of sleep.</p>
<p><br></p>
</section>
</section>
<section id="using-the-t_test-function" class="level2">
<h2 class="anchored" data-anchor-id="using-the-t_test-function">Using the <code>t_test()</code> Function</h2>
<p>Rather than bootstrapping the <em>SE</em>, we will use the <code>t_test()</code> function to compute the <em>SE</em> directly. This function is part of the <code>{mosaic}</code> library, and takes the following arguments:</p>
<ul>
<li>A formula using the tilde (<code>~</code>), similar to the <code>gf_</code> and <code>df_stats</code> functions, that specifies the attribute to carry out the one-sample <em>t</em>-test on.</li>
<li><code>data=</code> specifying the name of the data object,</li>
<li><code>mu=</code> indicating the value of the mean in the null hypothesis,</li>
<li><code>alternative=</code> indicating one of three potential alternative hypotheses: <code>"less"</code>, <code>"greater"</code>, or <code>"two.sided"</code> (not equal). Note that these need to be enclosed in quotation marks.</li>
</ul>
<p>To carry out the one-sample <em>t</em>-test in the earlier case study, we will use the following syntax. We assign the reuslts of this <em>t</em>-test to an object (in this case, I called it <code>my_t</code>).</p>
<div class="cell">

</div>
<p>To see the results of the test, you can just call <code>my_t</code>, or whatever you named the object storing the <em>t</em>-test results. The output, however, is a bit unorganized. Instead, we are going to use two functions from the <code>{educate}</code> package to view the results of the <em>t</em>-test: <code>t_results()</code> and <code>plot_t_dist()</code>. To use these functions, we will need to load the <code>{educate}</code> library. Then, we can use each of these functions by supplying it with the name of the object storing our <em>t</em>-test results. We begin by using the <code>t_results()</code> function.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load educate library</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(educate)</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="co"># View t-test results</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="fu">t_results</span>(my_t)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
--------------------------------------------------
One Sample t-test
--------------------------------------------------

H[0]: mu = 9
H[A]: mu &lt; 9

t(74) = -9.150303
p = 4.328872e-14

--------------------------------------------------</code></pre>
</div>
</div>
<p>This function outputs the null and alternative hypotheses being tested in the one-sample <em>t</em>-test. It also provide the observed <em>t</em>-value (<span class="math inline">\(-9.15\)</span>) and the <em>df</em> (74) for the <em>t</em>-distribution. Finally, it outputs the <em>p</em>-value for the test. When <em>p</em>-values are really small, R will output the <em>p</em>-value in <em>scientific notation</em>. The <code>e-14</code> part of the <em>p</em>-value means <span class="math inline">\(\times 10^{-14}\)</span>, which means, move the decimal point 14 places to the left. Thus the <em>p</em>-value is:</p>
<p><span class="math display">\[
\begin{split}
p &amp;= 4.328872 \times 10^{-14} \\[2ex]
&amp;= .0000000000000433
\end{split}
\]</span> Note that the <em>t</em>-value we get from this function was different than the <em>t</em>-value we got earlier. This is because the <em>SE</em> computed by the <code>t_test()</code> function is different than the <em>SE</em> we get when we bootstrap. Because of this, it is very important to indicate the method you used to get the <em>t</em>-value; was it based on bootstrapping a <em>SE</em>? Or did you use the <code>t_test()</code> function, which uses a <em>normal-based</em> method for computing the <em>SE</em>?</p>
<p>We can also use the <code>plot_t_dist()</code> to visualize the <em>t</em>-distribution with 74 <em>df</em>, where our observed <em>t</em>-value of <span class="math inline">\(-9.15\)</span>, falls in this distribution, and the shaded area under the curve associated with the <em>p</em>-value based on the specified alternative hypothesis. The results form the <em>t</em>-test will also be printed above the plot.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># View t-distribution</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_t_dist</span>(my_t)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-t-dist2" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="04-05-one-sample-test-assumption_files/figure-html/fig-t-dist2-1.png" class="img-fluid figure-img" style="width:80.0%"></p>
<p></p><figcaption class="figure-caption">Figure&nbsp;2: Density plot of the <em>t</em>-distribution of the sample means based on the thought experiment underlying a hypothesis test assuming that the mean amount of sleep for all tennagers is 9 hours (<em>t</em> value of 0). The red vertical line represents the observed <em>t</em>-value of -9.15. The shaded area under the curve to the left of -9.15 shows the associated <em>p</em>-value of <span class="math inline">\(4.33\times10^{-14} = .0000000000000433\)</span> that corresponds to the alternative hypothesis that <span class="math inline">\(\mu&lt;9\)</span>.</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p><br></p>
</section>
<section id="case-study-2-continuous-assessment" class="level2">
<h2 class="anchored" data-anchor-id="case-study-2-continuous-assessment">Case Study 2: Continuous Assessment</h2>
<p>To study the practice of continuous assessment in Ethiopian primary schools, <span class="citation" data-cites="Abejehu:2016">@Abejehu:2016</span> collected survey responses from several primary school teachers. One tenet of continuous assessment is that to evaluate larning, teachers need to understand students’ prior knowledge. One item on the survey asked teachers about this: “I always assess students’ prior knowledge before starting new lesson.” Teachers responded on a Likert scale, with options: Strongly Agree (4), Agree (3), Disagree (2), and Strongly Disagree (1). The responses for 30 teachers is given in the <code>prior_knowledge</code> attribute of the <a href="https://raw.githubusercontent.com/zief0002/epsy-5261/main/data/continuous-assessment.csv">continuous-assessment.csv</a> file (see <a href="https://zief0002.github.io/epsy-5261/codebooks/continuous-assessment.html">codebook</a> for additional detail).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Import data</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>continuous_assessment <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"https://raw.githubusercontent.com/zief0002/epsy-5261/main/data/continuous-assessment.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 30 Columns: 3
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
dbl (3): prior_knowledge, only_achievement, prompt_feedback

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># View data</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>continuous_assessment</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 30 × 3
   prior_knowledge only_achievement prompt_feedback
             &lt;dbl&gt;            &lt;dbl&gt;           &lt;dbl&gt;
 1               3                2               3
 2               1                3               3
 3               1                2               4
 4               3                3               3
 5               3                4               2
 6               3                3               3
 7               4                2               3
 8               4                3               2
 9               3                3               3
10               3                3               3
# ℹ 20 more rows</code></pre>
</div>
</div>
<p>To evaluate whether Ethiopian primary teachers are measuring students’ prior knowledge, we will analyze the data in the <code>prior_knowledge</code> attribute. Because there is not substantive work on whether teachers actually do or do not assess students’ prior knowledge, we don’t have <em>a priori</em> conjectures about whether they will generally agree (3 or 4) or disagree (1 or 2) with the statement in the survey item. Because of that, we will examine the following set of potential hypotheses:</p>
<p><span class="math display">\[
\begin{split}
H_0: \mu = 2.5 \\[1ex]
H_A: \mu \neq 2.5
\end{split}
\]</span> Before we carry out a hypothesis test, we should always explore the data by creating visualizations and numerical summaries of the attribute. Because the data in the attribute is more discrete (can only be 1–4 with no values in between), we will create a histogram rather than a density plot of the responses. We will also set the <code>bins=</code> argument to <code>4</code> since there are only four possible response options.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create density plot</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="fu">gf_histogram</span>(</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="sc">~</span>prior_knowledge, <span class="at">data =</span> continuous_assessment,</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">bins =</span> <span class="dv">4</span>,</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">color =</span> <span class="st">"black"</span>, </span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">fill =</span> <span class="st">"skyblue"</span>,</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">xlab =</span> <span class="st">"Level of Agreement"</span>,</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">ylab =</span> <span class="st">"Count"</span></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Compute numerical summaries</span></span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a><span class="fu">df_stats</span>(<span class="sc">~</span>prior_knowledge, <span class="at">data =</span> continuous_assessment)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>         response min Q1 median Q3 max     mean        sd  n missing
1 prior_knowledge   1  2    2.5  3   4 2.433333 0.8976342 30       0</code></pre>
</div>
<div class="cell-output-display">
<div id="fig-prior-knowledge" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="04-05-one-sample-test-assumption_files/figure-html/fig-prior-knowledge-1.png" class="img-fluid figure-img" width="672"></p>
<p></p><figcaption class="figure-caption">Figure&nbsp;3: Histogram of teachers responses to the survey item: I always assess students’ prior knowledge before starting new lesson.</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p>The histogram suggests that the distribution of responses is somewhat symmetric, with roughly an equal number of teachers assessing (3 and 4) and not assessing (1 and 2) students’ prior knowledge. Most teachers did not indicate strong agreement nor strong disagreement. The average response is 2.43, which indicates that a typical teacher does not assess students’ prior knowledge. However, the relatively large <em>SD</em> (0.90) suggests that there is a great deal of individual variation in the responses. Next, we carry out a one-sample <em>t</em>-test.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># One-sample t-test</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>my_t <span class="ot">&lt;-</span> <span class="fu">t_test</span>(<span class="sc">~</span>prior_knowledge, <span class="at">data =</span> continuous_assessment, <span class="at">mu =</span> <span class="fl">2.5</span>, <span class="at">alternative =</span> <span class="st">"two.sided"</span>)</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a><span class="co"># View t-test results</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a><span class="fu">t_results</span>(my_t)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
--------------------------------------------------
One Sample t-test
--------------------------------------------------

H[0]: mu = 2.5
H[A]: mu ≠ 2.5

t(29) = -0.4067897
p = 0.6871492

--------------------------------------------------</code></pre>
</div>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># View t-distribution</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_t_dist</span>(my_t)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-t-dist3" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="04-05-one-sample-test-assumption_files/figure-html/fig-t-dist3-1.png" class="img-fluid figure-img" style="width:80.0%"></p>
<p></p><figcaption class="figure-caption">Figure&nbsp;4: Density plot of the <em>t</em>-distribution of the sample means based on the thought experiment underlying a hypothesis test assuming that the mean response for all Ethiopian primary school teachers is 2.5 (<em>t</em> value of 0). The red vertical line represents the observed <em>t</em>-value of -0.41. The shaded area under the curve to the left of -0.41 and to the right of +0.41 shows the associated <em>p</em>-value of .687 that corresponds to the alternative hypothesis that <span class="math inline">\(\mu eq2.5\)</span>.</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p>Based on the <em>p</em>-value of .0687, we would <em>fail to reject</em> the null hypothesis. We do not have evidence that the average response for all Ethiopian primary school teachers differs from 2.5; that is the empirical data is consistent with the hypothesis that the average response for all Ethiopian primary school teachers is 2.5.</p>
<div class="fyi">
<p><strong>SUPER IMPORTANT NOTE</strong></p>
<p>Just because data are consistent with a hypothesis does not mean that hypothesis is true. As an example, consider a patient who goes to the doctor with a set of symptoms (e.g., aches, fever, congestion). The symptoms are the data the doctor will use to help make a diagnosis (hypothesis) which is consistent with the symptoms. However, there are likely several diagnoses that are consistent with the same set of symptoms. This is also true of hypotheses: The data can be consistent with several different hypotheses.</p>
<p>In our example, the data were consistent with the null hypothesis that the average response for all Ethiopian primary school teachers is 2.5. It turns out, that the data is also consistent with the hypothesis that the average response for all Ethiopian primary school teachers is 2.6. And 2.7, and 2.5. In fact, there are several different hypotheses that the data are consistent with. This is why we cannot say that the average response for all Ethiopian primary school teachers IS 2.5, but can only say that it IS CONSISTENT with the hypothesis that the average is 2.5.</p>
</div>
<p><br></p>
</section>
<section id="case-study-house-prices" class="level2">
<h2 class="anchored" data-anchor-id="case-study-house-prices">Case Study: House Prices</h2>
<p>The average price of a single-family house in Minneapolis is $322.46k (as of May 2023). Are houses near the University of Minnesota campus more expensive than that, on average? The data in <a href="https://raw.githubusercontent.com/zief0002/epsy-5261/main/data/continuous-assessment.csv">zillow.csv</a> include the listing price (in thousands of dollars) for 15 houses in neighborhoods adjacent to the UMN campus (e.g., Como, Marcy-Holmes, Cedar-Riverside). We will use these data to evaluate the following hypotheses:</p>
<p><span class="math display">\[
\begin{split}
H_0: \mu = 322.46 \\[1ex]
H_A: \mu &gt; 322.46
\end{split}
\]</span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: fig-house-prices</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Histogram of teachers responses to the survey item: I always assess students' prior knowledge before starting new lesson. "</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a><span class="co">#| </span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Import data</span></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>zillow <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"https://raw.githubusercontent.com/zief0002/epsy-5261/main/data/zillow.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 15 Columns: 1
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
dbl (1): price

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># View data</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>zillow</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 15 × 1
   price
   &lt;dbl&gt;
 1  250.
 2  500.
 3  400.
 4  435 
 5  525 
 6  325 
 7  329 
 8  343 
 9  305 
10  425.
11  250.
12  539 
13  550.
14  500 
15  399 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create density plot</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="fu">gf_histogram</span>(</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>  <span class="sc">~</span>price, <span class="at">data =</span> zillow,</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">binwidth =</span> <span class="dv">75</span>,</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">color =</span> <span class="st">"black"</span>, </span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">fill =</span> <span class="st">"skyblue"</span>,</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">xlab =</span> <span class="st">"House Price"</span>,</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">ylab =</span> <span class="st">"Count"</span></span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="04-05-one-sample-test-assumption_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Compute numerical summaries</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="fu">df_stats</span>(<span class="sc">~</span>price, <span class="at">data =</span> zillow)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  response   min  Q1 median      Q3   max    mean       sd  n missing
1    price 249.9 327  399.9 499.995 549.9 404.966 102.4312 15       0</code></pre>
</div>
</div>
<p>The sample distribution is left-skewed indicating that more of the houses are at the higher and of the price range. A typical single-family house near the UMN campus costs a little over 400 thousand dollars (<em>M</em> = $404.97k). There is a lot of variation in house price, with some as low as $250k and others as high as $550k (<em>SD</em> = $102.43k). The sample evidence supports the hypothesis that the average price of a house near the UMN campus costs more than the average house in Minneapolis. Next, we will carry out a one-sample <em>t</em>-test to determine whether this difference is more than we expect because of sampling variation.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># One-sample t-test</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>my_t <span class="ot">&lt;-</span> <span class="fu">t_test</span>(<span class="sc">~</span>price, <span class="at">data =</span> zillow, <span class="at">mu =</span> <span class="fl">322.46</span>, <span class="at">alternative =</span> <span class="st">"greater"</span>)</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a><span class="co"># View t-test results</span></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a><span class="fu">t_results</span>(my_t)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
--------------------------------------------------
One Sample t-test
--------------------------------------------------

H[0]: mu = 322.46
H[A]: mu &gt; 322.46

t(14) = 3.1196
p = 0.003766644

--------------------------------------------------</code></pre>
</div>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co"># View t-distribution</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_t_dist</span>(my_t)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-t-dist4" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="04-05-one-sample-test-assumption_files/figure-html/fig-t-dist4-1.png" class="img-fluid figure-img" style="width:80.0%"></p>
<p></p><figcaption class="figure-caption">Figure&nbsp;5: Density plot of the <em>t</em>-distribution of the sample means based on the thought experiment underlying a hypothesis test assuming that the mean cost for all houses near campus is $322.46k (<em>t</em> value of 0). The red vertical line represents the observed <em>t</em>-value of 3.12. The shaded area under the curve to the right of 3.12 shows the associated <em>p</em>-value of .004 that corresponds to the alternative hypothesis that <span class="math inline">\(\mu&gt;\$322.46k\)</span>.</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p>The results of the <em>t</em>-test, <span class="math inline">\(t(14)=3.12\)</span>, <span class="math inline">\(p = .004\)</span>, indicate we should reject the null hypothesis. This suggests that the empirical evidence is consistent with the average cost of a house near the UMN campus being higher than the average cost of a house in Minneapolis more broadly.</p>
<p><br></p>
</section>
<section id="references" class="level2">
<h2 class="anchored" data-anchor-id="references">References</h2>
</section>
</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>Remember that a parameter is a summary measure of the population, so parameter estimation refers to estimating a summary value of the population.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section></div></main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>