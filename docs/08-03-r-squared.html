<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>An Introduction to Data Analysis - 26&nbsp; \(R^2\): Quantifying the Strength of the Linear Relationship</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./08-04-regression-inference.html" rel="next">
<link href="./08-02-linear-regression-description.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script type="text/javascript">
// Function to toggle the visibility of solutions in exercises
function toggle_visibility(id) {
   var e = document.getElementById(id);
   if(e.style.display == 'block')
      e.style.display = 'none';
   else
      e.style.display = 'block';
}
</script>

<link href="site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet">
<script src="site_libs/pagedtable-1.1/js/pagedtable.js"></script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="assets/sticky-notes.css">
<link rel="stylesheet" href="assets/table-styles.css">
</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./08-00-relationships.html">Statistical Relationships</a></li><li class="breadcrumb-item"><a href="./08-03-r-squared.html"><span class="chapter-number">26</span>&nbsp; <span class="chapter-title">$R^2$: Quantifying the Strength of the Linear Relationship</span></a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">An Introduction to Data Analysis</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Foreword</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./01-00-statistical-computation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Statistical Computation</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01-01-r-and-rstudio-installation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">R and RStudio: Installation and Setup</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01-02-getting-started-with-r.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Getting Started with R</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01-03-data-structures-in-r.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Data Structures in R</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./02-00-data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02-01-data-structure-and-attributes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Data Structure and Attribute Classification</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./03-00-exploring-and-describing-data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Summarizing and Visualizing Data</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03-01-categorical-attributes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Summarizing and Visualizing Categorical Attributes</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03-02-quantitative-attributes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Summarizing and Visualizing Quantitative Attributes</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./04-00-comparing-to-a-standard.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Comparing Data to a Standard</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04-01-case-study-teen-sleep.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Case Study: Teen Sleep</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04-02-simulation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Bootstrapping: Using Simulation to Estimate the Uncertainty</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04-03-one-sample-test.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Hypothesis Testing: One-Sample t-Test</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04-04-one-sample-test-computation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">One-Sample t-Test Using R</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04-05-one-sample-test-assumptions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Assumptions of the One-Sample t-Test</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04-06-one-sample-test-proportions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">One-Sample z-Test: Evaluating Proportions Against a Standard</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./05-00-comparing-two-groups.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Comparing Two Groups</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./05-01-two-sample-t-test.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Two-Sample t-Test</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./05-02-two-sample-test-assumptions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Two-Sample t-Test: Assumptions</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./05-03-two-sample-test-proportions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Two-Sample z-Test: Evaluating Differences in Proportions From Two Samples</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./05-04-errors.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Errors in Hypothesis Testing</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./06-00-study-design.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Study Design</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./06-01-generalization.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Random Sampling and Generalization</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./06-02-cause-and-effect.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Random Assignment and Causal Inferences</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./07-00-effect-size.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Effect Size</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./07-01-confidence-intervals.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Confidence Intervals</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./07-02-confidence-intervals-computation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">Confidence Intervals Using R</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./07-03-confidence-intervals-extras.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">21</span>&nbsp; <span class="chapter-title">Confidence Intervals: Assumptions, Accuracy, and Precision</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./07-04-standardized-effects-means.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">Standardized Effects for Means</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./07-05-standardized-effects-props.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title">Standardized Effects for Proportions</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./08-00-relationships.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Statistical Relationships</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-8" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./08-01-scatterplot-correlation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">24</span>&nbsp; <span class="chapter-title">Scatterplots and Correlation</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./08-02-linear-regression-description.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">25</span>&nbsp; <span class="chapter-title">Linear Regression—Description</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./08-03-r-squared.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">26</span>&nbsp; <span class="chapter-title"><span class="math inline">\(R^2\)</span>: Quantifying the Strength of the Linear Relationship</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./08-04-regression-inference.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">27</span>&nbsp; <span class="chapter-title">Inference for Linear Relationship</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#recap-college-completion-rates-and-act-scores" id="toc-recap-college-completion-rates-and-act-scores" class="nav-link active" data-scroll-target="#recap-college-completion-rates-and-act-scores"><span class="header-section-number">26.1</span> Recap: College Completion Rates and ACT Scores</a>
  <ul class="collapse">
  <li><a href="#quantifying-aspects-of-the-relationship" id="toc-quantifying-aspects-of-the-relationship" class="nav-link" data-scroll-target="#quantifying-aspects-of-the-relationship"><span class="header-section-number">26.1.1</span> Quantifying Aspects of the Relationship</a></li>
  </ul></li>
  <li><a href="#residuals-the-key-to-measuring-closeness-to-the-line" id="toc-residuals-the-key-to-measuring-closeness-to-the-line" class="nav-link" data-scroll-target="#residuals-the-key-to-measuring-closeness-to-the-line"><span class="header-section-number">26.2</span> Residuals: The Key to Measuring “Closeness” to the Line</a>
  <ul class="collapse">
  <li><a href="#sum-of-squared-error" id="toc-sum-of-squared-error" class="nav-link" data-scroll-target="#sum-of-squared-error"><span class="header-section-number">26.2.1</span> Sum of Squared Error</a></li>
  </ul></li>
  <li><a href="#comparing-sse-to-a-baseline-model" id="toc-comparing-sse-to-a-baseline-model" class="nav-link" data-scroll-target="#comparing-sse-to-a-baseline-model"><span class="header-section-number">26.3</span> Comparing SSE to a Baseline Model</a>
  <ul class="collapse">
  <li><a href="#sse-from-the-baseline-model" id="toc-sse-from-the-baseline-model" class="nav-link" data-scroll-target="#sse-from-the-baseline-model"><span class="header-section-number">26.3.1</span> SSE from the Baseline Model</a></li>
  </ul></li>
  <li><a href="#using-the-sst-and-sse-to-quantify-strength" id="toc-using-the-sst-and-sse-to-quantify-strength" class="nav-link" data-scroll-target="#using-the-sst-and-sse-to-quantify-strength"><span class="header-section-number">26.4</span> Using the SST and SSE to Quantify Strength</a>
  <ul class="collapse">
  <li><a href="#shortcut-to-computing-pre" id="toc-shortcut-to-computing-pre" class="nav-link" data-scroll-target="#shortcut-to-computing-pre"><span class="header-section-number">26.4.1</span> Shortcut to Computing PRE</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span id="sec-r2" class="quarto-section-identifier"><span class="chapter-number">26</span>&nbsp; <span class="chapter-title"><span class="math inline">\(R^2\)</span>: Quantifying the Strength of the Linear Relationship</span></span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p>In this chapter you will learn about using the statistics <span class="math inline">\(R^2\)</span> to quantify the strength of a linear regression between two quantitative attributes.</p>
<p><br></p>
<section id="recap-college-completion-rates-and-act-scores" class="level2" data-number="26.1">
<h2 data-number="26.1" class="anchored" data-anchor-id="recap-college-completion-rates-and-act-scores"><span class="header-section-number">26.1</span> Recap: College Completion Rates and ACT Scores</h2>
<p>In <a href="08-02-linear-regression-description.html"><span>Chapter&nbsp;25</span></a>, we fitted a linear regression model to answer the research question of whether ACT scores are predictive of better institutional outcomes.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(educate)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggformula)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(mosaic)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(mosaicCore)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Import data</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>colleges <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"https://raw.githubusercontent.com/zief0002/epsy-5261/main/data/midwest-college-scorecard.csv"</span>)</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="co"># View data</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>colleges</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["institution"],"name":[1],"type":["chr"],"align":["left"]},{"label":["control"],"name":[2],"type":["chr"],"align":["left"]},{"label":["state"],"name":[3],"type":["chr"],"align":["left"]},{"label":["admission_rate"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["act"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["debt_all"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["debt_graduates"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["earnings"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["completion_rate"],"name":[9],"type":["dbl"],"align":["right"]}],"data":[{"1":"Buena Vista University","2":"Private (Non-Profit)","3":"IA","4":"0.6598","5":"25","6":"17500","7":"25000","8":"47076","9":"0.6278"},{"1":"Central College","2":"Private (Non-Profit)","3":"IA","4":"0.7452","5":"25","6":"20815","7":"26984","8":"53417","9":"0.6614"},{"1":"Clarke University","2":"Private (Non-Profit)","3":"IA","4":"0.8878","5":"23","6":"19500","7":"26717","8":"50541","9":"0.5449"},{"1":"Cornell College","2":"Private (Non-Profit)","3":"IA","4":"0.8110","5":"30","6":"21500","7":"27000","8":"51898","9":"0.6377"},{"1":"Dordt University","2":"Private (Non-Profit)","3":"IA","4":"0.7323","5":"28","6":"17500","7":"21500","8":"52342","9":"0.7410"},{"1":"Drake University","2":"Private (Non-Profit)","3":"IA","4":"0.6907","5":"31","6":"19500","7":"23000","8":"73451","9":"0.7815"},{"1":"Emmaus Bible College","2":"Private (Non-Profit)","3":"IA","4":"0.9906","5":"26","6":"9350","7":"15750","8":"39334","9":"0.7458"},{"1":"Faith Baptist Bible College and Theological Seminary","2":"Private (Non-Profit)","3":"IA","4":"0.5614","5":"27","6":"8750","7":"12971","8":"42315","9":"0.5600"},{"1":"Graceland University-Lamoni","2":"Private (Non-Profit)","3":"IA","4":"0.6662","5":"24","6":"14209","7":"21212","8":"45600","9":"0.4740"},{"1":"Grand View University","2":"Private (Non-Profit)","3":"IA","4":"0.9955","5":"22","6":"15097","7":"22500","8":"53256","9":"0.5075"},{"1":"Grinnell College","2":"Private (Non-Profit)","3":"IA","4":"0.1054","5":"34","6":"14151","7":"17500","8":"62529","9":"0.8688"},{"1":"Iowa State University","2":"Public","3":"IA","4":"0.9112","5":"28","6":"18750","7":"22869","8":"60973","9":"0.7605"},{"1":"Iowa Wesleyan University","2":"Private (Non-Profit)","3":"IA","4":"0.8190","5":"20","6":"12000","7":"23347","8":"46798","9":"0.2250"},{"1":"University of Iowa","2":"Public","3":"IA","4":"0.8621","5":"29","6":"18207","7":"22500","8":"62670","9":"0.7372"},{"1":"Luther College","2":"Private (Non-Profit)","3":"IA","4":"0.7607","5":"29","6":"22200","7":"27000","8":"55451","9":"0.7255"},{"1":"Mercy College of Health Sciences","2":"Private (Non-Profit)","3":"IA","4":"0.9697","5":"22","6":"12500","7":"14745","8":"56267","9":"0.5789"},{"1":"University of Northern Iowa","2":"Public","3":"IA","4":"0.8579","5":"26","6":"16486","7":"19691","8":"51651","9":"0.6891"},{"1":"Northwestern College","2":"Private (Non-Profit)","3":"IA","4":"0.8302","5":"27","6":"16791","7":"23249","8":"49445","9":"0.7077"},{"1":"Saint Ambrose University","2":"Private (Non-Profit)","3":"IA","4":"0.7241","5":"27","6":"19500","7":"25000","8":"57818","9":"0.6443"},{"1":"Simpson College","2":"Private (Non-Profit)","3":"IA","4":"0.9083","5":"27","6":"20262","7":"26000","8":"52638","9":"0.6894"},{"1":"Upper Iowa University","2":"Private (Non-Profit)","3":"IA","4":"0.6492","5":"24","6":"18000","7":"25000","8":"51790","9":"0.3855"},{"1":"Wartburg College","2":"Private (Non-Profit)","3":"IA","4":"0.8275","5":"26","6":"19500","7":"27000","8":"55659","9":"0.6989"},{"1":"William Penn University","2":"Private (Non-Profit)","3":"IA","4":"0.5768","5":"21","6":"12000","7":"22415","8":"45073","9":"0.3214"},{"1":"Augsburg University","2":"Private (Non-Profit)","3":"MN","4":"0.7637","5":"24","6":"19500","7":"25347","8":"56814","9":"0.5807"},{"1":"Bemidji State University","2":"Public","3":"MN","4":"0.7495","5":"25","6":"13809","7":"19750","8":"50297","9":"0.4759"},{"1":"Bethel University","2":"Private (Non-Profit)","3":"MN","4":"0.8868","5":"28","6":"18272","7":"21500","8":"58664","9":"0.7431"},{"1":"Carleton College","2":"Private (Non-Profit)","3":"MN","4":"0.1755","5":"35","6":"15960","7":"16750","8":"70334","9":"0.9145"},{"1":"Concordia College at Moorhead","2":"Private (Non-Profit)","3":"MN","4":"0.7200","5":"26","6":"20895","7":"26847","8":"55054","9":"0.7423"},{"1":"Martin Luther College","2":"Private (Non-Profit)","3":"MN","4":"0.9137","5":"27","6":"16606","7":"20177","8":"45759","9":"0.7485"},{"1":"Gustavus Adolphus College","2":"Private (Non-Profit)","3":"MN","4":"0.7257","5":"31","6":"23250","7":"26774","8":"63218","9":"0.7840"},{"1":"Hamline University","2":"Private (Non-Profit)","3":"MN","4":"0.7643","5":"26","6":"15750","7":"23770","8":"57170","9":"0.6490"},{"1":"Macalester College","2":"Private (Non-Profit)","3":"MN","4":"0.3126","5":"33","6":"19500","7":"23000","8":"62762","9":"0.8969"},{"1":"Minnesota State University-Mankato","2":"Public","3":"MN","4":"0.6948","5":"25","6":"14000","7":"21106","8":"55008","9":"0.5183"},{"1":"University of Minnesota-Twin Cities","2":"Public","3":"MN","4":"0.7323","5":"32","6":"16727","7":"19500","8":"65087","9":"0.8421"},{"1":"University of Minnesota-Duluth","2":"Public","3":"MN","4":"0.7954","5":"28","6":"16000","7":"22024","8":"59144","9":"0.6467"},{"1":"Minnesota State University Moorhead","2":"Public","3":"MN","4":"0.7171","5":"25","6":"15000","7":"20000","8":"49476","9":"0.5692"},{"1":"College of Saint Benedict","2":"Private (Non-Profit)","3":"MN","4":"0.9179","5":"27","6":"23250","7":"26944","8":"61071","9":"0.7668"},{"1":"Saint Cloud State University","2":"Public","3":"MN","4":"0.9432","5":"24","6":"14362","7":"21058","8":"53448","9":"0.4719"},{"1":"Saint Johns University","2":"Private (Non-Profit)","3":"MN","4":"0.8865","5":"28","6":"23250","7":"27000","8":"75423","9":"0.7871"},{"1":"St Olaf College","2":"Private (Non-Profit)","3":"MN","4":"0.4743","5":"33","6":"23250","7":"26000","8":"66260","9":"0.8502"},{"1":"The College of Saint Scholastica","2":"Private (Non-Profit)","3":"MN","4":"0.7369","5":"27","6":"17125","7":"20000","8":"61672","9":"0.6516"},{"1":"University of St Thomas","2":"Private (Non-Profit)","3":"MN","4":"0.7553","5":"28","6":"19500","7":"23250","8":"72582","9":"0.7810"},{"1":"St Catherine University","2":"Private (Non-Profit)","3":"MN","4":"0.7489","5":"26","6":"19716","7":"24181","8":"54838","9":"0.5941"},{"1":"Winona State University","2":"Public","3":"MN","4":"0.7691","5":"25","6":"15000","7":"21500","8":"55391","9":"0.6300"},{"1":"Dickinson State University","2":"Public","3":"ND","4":"0.9935","5":"22","6":"11960","7":"18442","8":"49125","9":"0.3636"},{"1":"University of Jamestown","2":"Private (Non-Profit)","3":"ND","4":"0.7579","5":"24","6":"15897","7":"27000","8":"53878","9":"0.5565"},{"1":"Mayville State University","2":"Public","3":"ND","4":"0.6099","5":"24","6":"12268","7":"18585","8":"45406","9":"0.3185"},{"1":"Minot State University","2":"Public","3":"ND","4":"0.8838","5":"23","6":"11980","7":"19609","8":"47001","9":"0.4650"},{"1":"University of North Dakota","2":"Public","3":"ND","4":"0.8903","5":"26","6":"15238","7":"22057","8":"61403","9":"0.6178"},{"1":"North Dakota State University-Main Campus","2":"Public","3":"ND","4":"0.9546","5":"26","6":"16750","7":"23199","8":"58936","9":"0.6487"},{"1":"Valley City State University","2":"Public","3":"ND","4":"0.8145","5":"23","6":"11761","7":"20369","8":"48672","9":"0.5318"},{"1":"Augustana University","2":"Private (Non-Profit)","3":"SD","4":"0.7182","5":"28","6":"21250","7":"25000","8":"53641","9":"0.7057"},{"1":"Black Hills State University","2":"Public","3":"SD","4":"0.9725","5":"23","6":"15000","7":"26000","8":"42217","9":"0.4248"},{"1":"Dakota State University","2":"Public","3":"SD","4":"0.8561","5":"26","6":"14250","7":"23500","8":"45973","9":"0.4675"},{"1":"Dakota Wesleyan University","2":"Private (Non-Profit)","3":"SD","4":"0.7574","5":"25","6":"19500","7":"27000","8":"49821","9":"0.5486"},{"1":"Mount Marty University","2":"Private (Non-Profit)","3":"SD","4":"0.6737","5":"24","6":"14750","7":"26396","8":"44448","9":"0.6100"},{"1":"Northern State University","2":"Public","3":"SD","4":"0.7982","5":"24","6":"15750","7":"22320","8":"44493","9":"0.4757"},{"1":"Presentation College","2":"Private (Non-Profit)","3":"SD","4":"0.9373","5":"22","6":"16952","7":"25000","8":"45925","9":"0.3465"},{"1":"South Dakota School of Mines and Technology","2":"Public","3":"SD","4":"0.8048","5":"29","6":"17306","7":"27000","8":"71277","9":"0.5231"},{"1":"South Dakota State University","2":"Public","3":"SD","4":"0.8743","5":"25","6":"16246","7":"23250","8":"52198","9":"0.5955"},{"1":"University of South Dakota","2":"Public","3":"SD","4":"0.8701","5":"25","6":"17500","7":"23592","8":"49034","9":"0.6010"},{"1":"Bellin College","2":"Private (Non-Profit)","3":"WI","4":"0.8529","5":"24","6":"15000","7":"18000","8":"68292","9":"0.5862"},{"1":"Beloit College","2":"Private (Non-Profit)","3":"WI","4":"0.6728","5":"28","6":"22773","7":"25738","8":"53720","9":"0.7347"},{"1":"Cardinal Stritch University","2":"Private (Non-Profit)","3":"WI","4":"0.8891","5":"21","6":"22500","7":"30571","8":"56811","9":"0.5375"},{"1":"Carroll University","2":"Private (Non-Profit)","3":"WI","4":"0.7050","5":"27","6":"22000","7":"27000","8":"52782","9":"0.6742"},{"1":"Carthage College","2":"Private (Non-Profit)","3":"WI","4":"0.7569","5":"27","6":"19500","7":"26000","8":"56427","9":"0.6804"},{"1":"Concordia University-Wisconsin","2":"Private (Non-Profit)","3":"WI","4":"0.6859","5":"26","6":"19500","7":"25750","8":"51567","9":"0.5920"},{"1":"Lawrence University","2":"Private (Non-Profit)","3":"WI","4":"0.7496","5":"32","6":"19500","7":"26000","8":"50848","9":"0.8046"},{"1":"Maranatha Baptist University","2":"Private (Non-Profit)","3":"WI","4":"0.8030","5":"27","6":"12375","7":"14143","8":"45876","9":"0.5682"},{"1":"Marian University","2":"Private (Non-Profit)","3":"WI","4":"0.7627","5":"23","6":"17340","7":"25000","8":"53441","9":"0.5584"},{"1":"Marquette University","2":"Private (Non-Profit)","3":"WI","4":"0.8626","5":"30","6":"20500","7":"23940","8":"76417","9":"0.8136"},{"1":"Milwaukee School of Engineering","2":"Private (Non-Profit)","3":"WI","4":"0.6672","5":"30","6":"24500","7":"27000","8":"84860","9":"0.6599"},{"1":"Mount Mary University","2":"Private (Non-Profit)","3":"WI","4":"0.6236","5":"21","6":"19000","7":"25288","8":"47959","9":"0.5068"},{"1":"Northland College","2":"Private (Non-Profit)","3":"WI","4":"0.5766","5":"27","6":"15500","7":"25450","8":"42687","9":"0.5827"},{"1":"Ripon College","2":"Private (Non-Profit)","3":"WI","4":"0.7977","5":"27","6":"19500","7":"27000","8":"51436","9":"0.6204"},{"1":"Saint Norbert College","2":"Private (Non-Profit)","3":"WI","4":"0.8515","5":"29","6":"21500","7":"26731","8":"54223","9":"0.7804"},{"1":"Viterbo University","2":"Private (Non-Profit)","3":"WI","4":"0.7746","5":"26","6":"19500","7":"25000","8":"52502","9":"0.6464"},{"1":"University of Wisconsin-Whitewater","2":"Public","3":"WI","4":"0.8297","5":"24","6":"16241","7":"23188","8":"52316","9":"0.6347"},{"1":"University of Wisconsin-Eau Claire","2":"Public","3":"WI","4":"0.7746","5":"26","6":"13000","7":"20909","8":"55619","9":"0.6805"},{"1":"University of Wisconsin-Green Bay","2":"Public","3":"WI","4":"0.9143","5":"25","6":"11250","7":"18500","8":"49099","9":"0.5461"},{"1":"University of Wisconsin-La Crosse","2":"Public","3":"WI","4":"0.7385","5":"26","6":"18000","7":"22500","8":"57125","9":"0.7302"},{"1":"Wisconsin Lutheran College","2":"Private (Non-Profit)","3":"WI","4":"0.9802","5":"28","6":"19500","7":"26000","8":"51291","9":"0.6105"},{"1":"University of Wisconsin-Oshkosh","2":"Public","3":"WI","4":"0.8989","5":"23","6":"12500","7":"21500","8":"51418","9":"0.5518"},{"1":"University of Wisconsin-Parkside","2":"Public","3":"WI","4":"0.7497","5":"24","6":"14000","7":"20492","8":"45774","9":"0.4151"},{"1":"University of Wisconsin-Stout","2":"Public","3":"WI","4":"0.9139","5":"26","6":"16000","7":"23000","8":"56554","9":"0.5611"},{"1":"University of Wisconsin-Superior","2":"Public","3":"WI","4":"0.7623","5":"24","6":"14055","7":"22500","8":"45677","9":"0.4298"},{"1":"University of Wisconsin-Madison","2":"Public","3":"WI","4":"0.6035","5":"32","6":"18058","7":"20484","8":"70586","9":"0.8920"},{"1":"University of Wisconsin-Milwaukee","2":"Public","3":"WI","4":"0.8896","5":"25","6":"15250","7":"23000","8":"53169","9":"0.4735"},{"1":"University of Wisconsin-Platteville","2":"Public","3":"WI","4":"0.8757","5":"26","6":"15000","7":"21977","8":"55720","9":"0.5896"},{"1":"University of Wisconsin-River Falls","2":"Public","3":"WI","4":"0.8624","5":"25","6":"14865","7":"20500","8":"50940","9":"0.5664"},{"1":"University of Wisconsin-Stevens Point","2":"Public","3":"WI","4":"0.9016","5":"25","6":"14674","7":"21503","8":"48872","9":"0.5545"},{"1":"University of Minnesota-Rochester","2":"Public","3":"MN","4":"0.8023","5":"29","6":"16727","7":"19500","8":"65087","9":"0.4659"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Compute correlation</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">cor</span>(completion_rate <span class="sc">~</span> act, <span class="at">data =</span> colleges)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.8083368</code></pre>
</div>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Fit regression model</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>lm.a <span class="ot">=</span> <span class="fu">lm</span>(completion_rate <span class="sc">~</span> <span class="dv">1</span> <span class="sc">+</span> act, <span class="at">data =</span> colleges)</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Print regression coefficients</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>lm.a</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = completion_rate ~ 1 + act, data = colleges)

Coefficients:
(Intercept)          act  
   -0.36421      0.03738  </code></pre>
</div>
</div>
<p>The data suggested that there was a positive, linear relationship between 75th percentile ACT score and completion rate for the 92 institutions in our sample (<span class="math inline">\(r = 0.808\)</span>), indicating that colleges with higher 75th percentile ACT scores tended to also have higher completion rates. The fitted equation was:</p>
<p><span class="math display">\[
\hat{\mathrm{Completion~Rate}} = -0.36 + 0.04(\mathrm{ACT})
\]</span></p>
<p>The results of the regression analysis suggested that each 1-point difference in 75th percentile ACT scores of education is associated with a 0.037-unit difference in completion rates, on average.</p>
<p><br></p>
<section id="quantifying-aspects-of-the-relationship" class="level3" data-number="26.1.1">
<h3 data-number="26.1.1" class="anchored" data-anchor-id="quantifying-aspects-of-the-relationship"><span class="header-section-number">26.1.1</span> Quantifying Aspects of the Relationship</h3>
<p>Remember that when we describe a relationship between two quantitative attributes, we touch on four characteristics of the relationship:</p>
<ul>
<li>Functional form of the relationship</li>
<li>Direction/Trend</li>
<li>Magnitude of the line, and</li>
<li>Strength</li>
</ul>
<p>The functional form helps us decide the mathematical form that the model should take (e.g., linear, quadratic). It also helps us determine the appropriate summary measures that can help quantify the other three characteristics we describe. For example, the correlation coefficient (<em>r</em>) helps us quantify the direction of the relationship, as does the slope of the regression line (<span class="math inline">\(b_1\)</span>). The slope of the regression line also quantifies the magnitude (i.e., “steepness”) of the relationship.</p>
<p>Neither the correlation coefficient, nor the slope, however, provide a quantification of the strength of the relationship. Remember that the strength of the relationship describes how well the data adhere to the functional form (i.e., how closely the observations lie to the line).</p>
<p>Once we have the fitted equation, we can add that to the scatterplot to better evaluate the strength of the linear relationship. To do this we will use the <code>geom_abline()</code> function, which takes the arguments <code>intercept=</code> and <code>slope=</code>. We provide the estimates for these coefficients from our fitted equation to these arguments, and then literally add this function to the scatterplot.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gf_point</span>(</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  completion_rate <span class="sc">~</span> act, <span class="at">data =</span> colleges,</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">xlab =</span> <span class="st">"75th percentile ACT score"</span>,</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">ylab =</span> <span class="st">"Completion rate"</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_abline</span>(</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">intercept =</span> <span class="sc">-</span><span class="fl">0.36421</span>, </span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">slope =</span> <span class="fl">0.03738</span>,</span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">"blue"</span></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>    )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="08-03-r-squared_files/figure-html/unnamed-chunk-2-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Scatterplot displaying the relationship between wine price and rating for the 90 wines in the sample. The fitted linear regression line is also displayed on the plot.</figcaption>
</figure>
</div>
</div>
</div>
<p>This relationship seems pretty strong, with the data generally clustered pretty close to the line that describes this relationship.</p>
<p><br></p>
</section>
</section>
<section id="residuals-the-key-to-measuring-closeness-to-the-line" class="level2" data-number="26.2">
<h2 data-number="26.2" class="anchored" data-anchor-id="residuals-the-key-to-measuring-closeness-to-the-line"><span class="header-section-number">26.2</span> Residuals: The Key to Measuring “Closeness” to the Line</h2>
<p>Remember that visually, the residual is the vertical distance between the point and the regression line. In the previous chapter, we illustrated this by showing the residual for the Marquette University, which was 0.057.</p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="08-03-r-squared_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Plot displaying the 75th ACT scores and completion rates along with the fitted regression line (blue). Marquette University’s observed completion rate (pink dot) and the predicted mean for colleges with a 75th percentile ACT score of 30 (blue dot) are both plotted. A visual representation of Marquette University’s residual (green line) is also displayed.</figcaption>
</figure>
</div>
</div>
</div>
<p>Graphically, the length of the vertical line represents the value of the residual—in the case of Marquette University, the length of the vertical line is 0.057 units. (The metric is the same as the original <em>y</em> attribute; in this case completion rate.) Because the vertical line is above the regression line, we know the sign on the residual is positive. <a href="#fig-all-residuals">Figure&nbsp;<span>26.1</span></a> shows the plotted residuals for all 92 observations. (Note that for any set of colleges with the same ACT score, there is potential for their residual lines to be on top of other residual lines.)</p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-all-residuals" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="08-03-r-squared_files/figure-html/fig-all-residuals-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Figure&nbsp;26.1: Plot displaying the 75th ACT scores and completion rates along with the fitted regression line (blue). A visual representation of each university’s residual (green lines) is also displayed.</figcaption>
</figure>
</div>
</div>
</div>
<p>In general, if the observation is close to the line, the green line for the residuals is short, whereas if the observation is far away from the line the green line for the residuals is long. We can use this idea to quantify the strength of the relationship. That is, we can consider whether, in general, the green residual lines are short or long.</p>
<p>While we can eyeball this from the plot, we want to quantify how close the observations are to the line. Recall that we can compute each observation’s residual using:</p>
<p><span class="math display">\[
e = Y - \hat{Y}
\]</span></p>
<p>We can use the <code>resid()</code> function to compute the residuals in R. We provide this function with the name of the <code>lm()</code> object, in our case <code>lm.a</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Get residuals</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>my_residuals <span class="ot">&lt;-</span> <span class="fu">resid</span>(lm.a)</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="co"># View residuals</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>my_residuals</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>            1             2             3             4             5 
 0.0574753580  0.0910753580  0.0493379949 -0.1195312342  0.0585314027 
            6             7             8             9            10 
-0.0131125527  0.1380940396 -0.0850872789 -0.0589433235  0.0493193134 
           11            12            13            14            15 
-0.0379565080  0.0780314027 -0.1584180497  0.0173500842  0.0056500842 
           16            17            18            19            20 
 0.1207193134  0.0813940396  0.0626127211 -0.0007872789  0.0443127211 
           21            22            23            24            25 
-0.1474433235  0.0911940396 -0.0993993682  0.0477566765 -0.0944246420 
           26            27            28            29            30 
 0.0606314027 -0.0296378265  0.1345940396  0.1034127211 -0.0106125527 
           31            32            33            34            35 
 0.0412940396  0.0275248104 -0.0520246420  0.0101061289 -0.0357685973 
           36            37            38            39            40 
-0.0011246420  0.1217127211 -0.0610433235  0.1046314027 -0.0191751896 
           41            42            43            44            45 
 0.0065127211  0.0985314027 -0.0136059604  0.0596753580 -0.0945806866 
           46            47            48            49            50 
 0.0235566765 -0.2144433235 -0.0305620051  0.0100940396  0.0409940396 
           51            52            53            54            55 
 0.0362379949  0.0232314027 -0.0707620051 -0.1402059604 -0.0217246420 
           56            57            58            59            60 
 0.0770566765 -0.0572433235 -0.1116806866 -0.1967499158  0.0251753580 
           61            62            63            64            65 
 0.0306753580  0.0532566765  0.0522314027  0.1167006318  0.0291127211 
           66            67            68            69            70 
 0.0353127211 -0.0157059604 -0.0273938711 -0.0768872789  0.0628379949 
           71            72            73            74            75 
 0.0563687658 -0.0973312342  0.0860006318 -0.0623872789 -0.0246872789 
           76            77            78            79            80 
 0.0605500842  0.0386940396  0.1017566765  0.0727940396 -0.0242246420 
           81            82            83            84            85 
 0.1224940396 -0.0719685973  0.0562379949 -0.1178433235 -0.0466059604 
           86            87            88            89            90 
-0.1031433235  0.0600061289 -0.0968246420 -0.0181059604 -0.0039246420 
           91            92 
-0.0158246420 -0.2539499158 </code></pre>
</div>
</div>
<p>These residuals are in the same order as the observations in the data; the first observation in the data is Buena Vista University which corresponds to the first residual of 0.0574753580. To quantify the strength we need to determine whether these residuals are small or big, in general. One way to do that is to find the size of the average residual:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Compute average residual</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(my_residuals)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] -1.046491e-18</code></pre>
</div>
</div>
<p>The value we get is in scientific notation. The <code>e-18</code> means “times 10 to the <span class="math inline">\(-18\)</span>th power. That is:</p>
<p><span class="math display">\[
\begin{split}
-1.046491e-18 &amp;= -1.046491 \times 10^{-18} \\[2ex]
&amp;= -0.00000000000000000104691
\end{split}
\]</span></p>
<p>This is essentially equal to 0. We are saying that the average residual is 0! That is completely not true. Looking at the scatterplot, it is clear that the average residual will have some length…not 0. The problem is that some of the residuals are positive and some are negative, so adding them together gives a sum of 0.</p>
<p><span class="math display">\[
\sum e = 0
\]</span></p>
<p>Because of this finding the average does not help us quantify the strength of the relationship.</p>
<p><br></p>
<section id="sum-of-squared-error" class="level3" data-number="26.2.1">
<h3 data-number="26.2.1" class="anchored" data-anchor-id="sum-of-squared-error"><span class="header-section-number">26.2.1</span> Sum of Squared Error</h3>
<p>To remedy this problem before we sum the residuals, we will square them to make them all positive. Mathematically, we are computing:</p>
<p><span class="math display">\[
\sum e^2
\]</span></p>
<p>Using R, we will square the residuals and then use the <code>sum()</code> function to add them together.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(my_residuals <span class="sc">^</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.6120481</code></pre>
</div>
</div>
<p>This value is refer to as the <em>Sum of Squares Residual</em> or the <em>Sum of Squared Error</em> (SSE). It is a quantification of the total amount of error in the model (albeit in a squared metric). In our example,</p>
<p><span class="math display">\[
\text{SSE} = 0.612
\]</span></p>
<p><br></p>
</section>
</section>
<section id="comparing-sse-to-a-baseline-model" class="level2" data-number="26.3">
<h2 data-number="26.3" class="anchored" data-anchor-id="comparing-sse-to-a-baseline-model"><span class="header-section-number">26.3</span> Comparing SSE to a Baseline Model</h2>
<p>While the SSE gives us a quantification of the total amount of error in the model it isn’t useful (by itself) for considering the strength of the relationship. This is for two reasons. First finding the average of this sum is not helpful as the metric has changed to squared completion rates. Even if we converted back to the original metric by taking the square root after finding the average, we still don’t know if the value represents a “weak”, “moderate”, or “strong” relationship. This is because the quantification would be dependent on the metric used in the <em>y</em> attribute, which is our second problem. This implies that you would have to evaluate strength differently depending on how you measured the attribute you use as your outcome. Ideally, we want to use a measure that does not depend on the metric used in the attribute.</p>
<p>The solution to this is to compare the SSE value to a SSE value computed from a “baseline” model. The baseline model that we will use is the intercept-only model. The intercept-only model is mathematically expressed as:</p>
<p><span class="math display">\[
Y = \beta_0 + \epsilon
\]</span></p>
<p>That is, it only includes the <em>y</em>-intercept and does not include any other effects. If we use this model to predict completion rates we are saying that ACT scores do not matter in predicting colleges’ completion rates as it is not included in the model. To fit this model we use <code>lm(y ~ 1, data=dataframe)</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Fit intercept-only model</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>lm<span class="fl">.0</span> <span class="ot">=</span> <span class="fu">lm</span>(completion_rate <span class="sc">~</span> <span class="dv">1</span>, <span class="at">data =</span> colleges)</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="co"># View coefficient</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>lm<span class="fl">.0</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = completion_rate ~ 1, data = colleges)

Coefficients:
(Intercept)  
     0.6175  </code></pre>
</div>
</div>
<p>Here the fitted equation is:</p>
<p><span class="math display">\[
\hat{\text{Completion Rate}} = 0.618
\]</span></p>
<p>We can plot this regression line using <code>geom_abline()</code> in the same way we plot any other regression line, noting that the slope of this line is 0.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gf_point</span>(</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  completion_rate <span class="sc">~</span> act, <span class="at">data =</span> colleges,</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">xlab =</span> <span class="st">"75th percentile ACT score"</span>,</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">ylab =</span> <span class="st">"Completion rate"</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_abline</span>(</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">intercept =</span> <span class="fl">0.6175</span>, </span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">slope =</span> <span class="dv">0</span>,</span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">"blue"</span></span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>    )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="08-03-r-squared_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Scatterplot displaying the relationship between wine price and rating for the 90 wines in the sample. The fitted intercept-only linear regression line is also displayed on the plot.</figcaption>
</figure>
</div>
</div>
</div>
<p>The intercept-only line is a flat line. Think about what this means for predictions. Consider a college that has a 75th percentile ACT score of 20. Their predicted completion rate from this model is 0.6175. What about a college that has a 75th percentile ACT score of 25? Their predicted completion rate from this model is also 0.6175. How about a college that has a 75th percentile ACT score of 35. Their predicted completion rate from this model is also 0.6175. ACT score DOES NOT matter in the prediction of completion rate!</p>
<div class="fyi">
<p>One interesting fact about the value of 0.6175 is that it is the mean completion rate for all schools in the sample.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">df_stats</span>(<span class="sc">~</span>completion_rate, <span class="at">data =</span> colleges)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["response"],"name":[1],"type":["chr"],"align":["left"]},{"label":["min"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["Q1"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["median"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["Q3"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["max"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["mean"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["sd"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["n"],"name":[9],"type":["int"],"align":["right"]},{"label":["missing"],"name":[10],"type":["int"],"align":["right"]}],"data":[{"1":"completion_rate","2":"0.225","3":"0.54305","4":"0.61415","5":"0.726675","6":"0.9145","7":"0.6174576","8":"0.1393038","9":"92","10":"0"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>This implies that the predicted value for the intercept-only model, regardless of a school’s ACT score will be the mean completion rate. That is, when we aren’t using any information (predictors) to predict something, the best prediction is the mean.</p>
</div>
<p><br></p>
<section id="sse-from-the-baseline-model" class="level3" data-number="26.3.1">
<h3 data-number="26.3.1" class="anchored" data-anchor-id="sse-from-the-baseline-model"><span class="header-section-number">26.3.1</span> SSE from the Baseline Model</h3>
<p>We can also compute the residuals and SSE for the baseline model. <a href="#fig-all-residuals-two-models">Figure&nbsp;<span>26.2</span></a> shows the residuals for both the intercept only model and the model that included ACT as a predictor of completion rates. From these plots, you can see that the residuals from the intercept-only model tend to be larger (the green segments are longer) than the residuals from the model that used ACT as a predictor. This means that the squared residuals, and susequently the sum of the squared residuals will also be larger for the intercept-only model.</p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-all-residuals-two-models" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="08-03-r-squared_files/figure-html/fig-all-residuals-two-models-1.png" class="img-fluid figure-img" style="width:100.0%"></p>
<figcaption class="figure-caption">Figure&nbsp;26.2: LEFT: Plot displaying the 75th ACT scores and completion rates along with the fitted regression line for the intercept-only model (blue). A visual representation of each university’s residual (green lines) is also displayed. RIGHT: Plot displaying the 75th ACT scores and completion rates along with the fitted regression line using ACT as a predictor (blue). A visual representation of each university’s residual (green lines) is also displayed.</figcaption>
</figure>
</div>
</div>
</div>
<p>We can compute the SSE for the intercept-only model similar to how we computed it for our model that included ASCT as a predictor.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Get residuals for intercept-only model</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>my_residuals <span class="ot">&lt;-</span> <span class="fu">resid</span>(lm<span class="fl">.0</span>)</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="co"># View residuals</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>my_residuals</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>            1             2             3             4             5 
 0.0103423913  0.0439423913 -0.0725576087  0.0202423913  0.1235423913 
            6             7             8             9            10 
 0.1640423913  0.1283423913 -0.0574576087 -0.1434576087 -0.1099576087 
           11            12            13            14            15 
 0.2513423913  0.1430423913 -0.3924576087  0.1197423913  0.1080423913 
           16            17            18            19            20 
-0.0385576087  0.0716423913  0.0902423913  0.0268423913  0.0719423913 
           21            22            23            24            25 
-0.2319576087  0.0814423913 -0.2960576087 -0.0367576087 -0.1415576087 
           26            27            28            29            30 
 0.1256423913  0.2970423913  0.1248423913  0.1310423913  0.1665423913 
           31            32            33            34            35 
 0.0315423913  0.2794423913 -0.0991576087  0.2246423913  0.0292423913 
           36            37            38            39            40 
-0.0482576087  0.1493423913 -0.1455576087  0.1696423913  0.2327423913 
           41            42            43            44            45 
 0.0341423913  0.1635423913 -0.0233576087  0.0125423913 -0.2538576087 
           46            47            48            49            50 
-0.0609576087 -0.2989576087 -0.1524576087  0.0003423913  0.0312423913 
           51            52            53            54            55 
-0.0856576087  0.0882423913 -0.1926576087 -0.1499576087 -0.0688576087 
           56            57            58            59            60 
-0.0074576087 -0.1417576087 -0.2709576087 -0.0943576087 -0.0219576087 
           61            62            63            64            65 
-0.0164576087 -0.0312576087  0.1172423913 -0.0799576087  0.0567423913 
           66            67            68            69            70 
 0.0629423913 -0.0254576087  0.1871423913 -0.0492576087 -0.0590576087 
           71            72            73            74            75 
 0.1961423913  0.0424423913 -0.1106576087 -0.0347576087  0.0029423913 
           76            77            78            79            80 
 0.1629423913  0.0289423913  0.0172423913  0.0630423913 -0.0713576087 
           81            82            83            84            85 
 0.1127423913 -0.0069576087 -0.0656576087 -0.2023576087 -0.0563576087 
           86            87            88            89            90 
-0.1876576087  0.2745423913 -0.1439576087 -0.0278576087 -0.0510576087 
           91            92 
-0.0629576087 -0.1515576087 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Compute SSE</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(my_residuals <span class="sc">^</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1.765905</code></pre>
</div>
</div>
<p>Although this value is a sum of squared residuals, because it comes from the intercept-only model we refer to it as the <em>Sum of Squared Total</em> (SST). This is because it is a quantification of the total amount of variation in the data (again, in a squared metric). In our example,</p>
<p><span class="math display">\[
\text{SST} = 1.766
\]</span> If we again consider the mathematics behind the SST, we can gain some insight into why it is a quantification of the variation in the data, and also how it relates to other measures of variation that you already know. The way we computed SST was:</p>
<p><span class="math display">\[
\text{SST} = \sum(Y - \hat{Y})^2
\]</span></p>
<p>But in the intercept only model we saw that the predicted value (i.e., <span class="math inline">\(\hat{Y}\)</span>) is the mean value of <em>Y</em>. So the SST can also be written as:</p>
<p><span class="math display">\[
\text{SST} = \sum(Y - \bar{Y})^2
\]</span></p>
<p>This quantity is seen in our formulas for the variance and standard deviation. The formulas for these are:</p>
<p><span class="math display">\[
\text{Var}(Y) = \frac{\sum(Y - \bar{Y})^2}{n-1} \qquad\qquad \text{SD}(Y) = \sqrt{\frac{\sum(Y - \bar{Y})^2}{n-1}}
\]</span> Note that the variance formula is essentially a mean—it is a sum divided by how many things there are.<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a> So the variance is finding the mean amount of variation (from the sample mean) in the data in a squared metric. The SD is the square root of the variance, so it is getting rid of the squared metric. That is why we interpret the SD as the average amount of variation from the sample mean.</p>
<p><br></p>
</section>
</section>
<section id="using-the-sst-and-sse-to-quantify-strength" class="level2" data-number="26.4">
<h2 data-number="26.4" class="anchored" data-anchor-id="using-the-sst-and-sse-to-quantify-strength"><span class="header-section-number">26.4</span> Using the SST and SSE to Quantify Strength</h2>
<p>Now that we have both the SST and SSE values we can use them to quantify the strength of the initial relationship between 75th percentile ACT scores and completion rates. To do this, we are going to compute the proportion reduction in error (PRE) between the baseline (intercept-only) and ACT predictor models. This will tell us how much smaller the SSE is after we include ACT in the model relative to the SSE from the baseline model. That is, we are going to compute:</p>
<p><span class="math display">\[
\begin{split}
\text{PRE} &amp;= \frac{\text{SSE}_{\text{Baseline Model}} - \text{SSE}_{\text{ACT Model}}}{\text{SSE}_{\text{Baseline Model}}} \\[2ex]
&amp;= \frac{\text{SST} - \text{SSE}}{\text{SST}}
\end{split}
\]</span></p>
<p>For our example:</p>
<p><span class="math display">\[
\begin{split}
\text{PRE} &amp;= \frac{1.766 - 0.612}{1.766} \\[2ex]
&amp;= \frac{1.154}{1.766} \\[2ex]
&amp;= 0.65
\end{split}
\]</span> To interpret this we say,</p>
<blockquote class="blockquote">
<p>Including 75th percentile ACT scores as a predictor of completion rates reduces the error variation in the model by 65.3%.</p>
</blockquote>
<p>Or, another way to interpret this value is to consider our sum of squares values. Mathematically, sums of squares are additive in that the SSE and another sum of squared value (the sum of squared model; SSM) add together to equal the SST.</p>
<p><span class="math display">\[
\text{SST} = \text{SSM} + \text{SSE}
\]</span> Because of this the SSM is:</p>
<p><span class="math display">\[
\text{SSM} = \text{SST} - \text{SSE}
\]</span></p>
<p>For us the values of these sum of squares are:</p>
<ul>
<li><span class="math inline">\(\text{SST} = 1.766\)</span></li>
<li><span class="math inline">\(\text{SSM} = 1.154\)</span></li>
<li><span class="math inline">\(\text{SSE} = 0.612\)</span></li>
</ul>
<p>The SSM represents the amount of variation (in a squared metric) that is explained by the model. Using the three quantities the total amount of variation in the data (SST) is equal to the amount of variation explained by the model (SSM) and the amount of variation that is unexplained by the model (SSE). That is after including 75th percentile ACT score in the model we explain some of the total variation in completion scores, but not all of it. There is still some variation in completion scores that is unexplained by differences in 75th percentile ACT scores.</p>
<p>In other words, we see that there is variation in colleges’ completion rates (total variation in the data). Some of this is because colleges have different 75th percentile ACT scores (the explained variation by the model). Some of it is because of other factors (unexplained variation after ACT is included).</p>
<p>Also notice that in our formula to compute the PRE, the SSM is the numerator value in this expression.</p>
<p><span class="math display">\[
\begin{split}
\text{PRE} &amp;= \frac{\text{SST} - \text{SSE}}{\text{SST}} \\[2ex]
&amp;= \frac{\text{SSM}}{\text{SST}}
\end{split}
\]</span></p>
<p>So the PRE is not only telling us the proportion of error that was reduced after including ACT in the model, but it also is a proportion of the explained variation relative to the total variation in the data. This gives us an alternative interpretation of the PRE, namely:</p>
<blockquote class="blockquote">
<p>Differences in 75th percentile ACT scores EXPLAIN 65.3% of the original variation in completion rates.</p>
</blockquote>
<p>This is the interpretation that most applied researchers use for PRE. It is a measure of the strength of the relationship because it tells us how “good” a predictor is in explaining variation in the outcome we are trying to predict.</p>
<p><br></p>
<section id="shortcut-to-computing-pre" class="level3" data-number="26.4.1">
<h3 data-number="26.4.1" class="anchored" data-anchor-id="shortcut-to-computing-pre"><span class="header-section-number">26.4.1</span> Shortcut to Computing PRE</h3>
<p>It turns out that in a regression model that only includes a single predictor there is a shortcut for computing the PRE. The PRE is equal to the square of the correlation coefficient:</p>
<p><span class="math display">\[
\text{PRE} = r^2
\]</span></p>
<p>In applied work, the PRE metric is often referred to as <span class="math inline">\(R^2\)</span>. An alternative computation is to therefore, compute the correlation coefficient and square it.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Compute R2</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="fu">cor</span>(completion_rate <span class="sc">~</span> act, <span class="at">data =</span> colleges) <span class="sc">^</span> <span class="dv">2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.6534083</code></pre>
</div>
</div>
<p>Because this strength metric is related to the correlation coefficient, we now can think about what different values of <span class="math inline">\(R^2\)</span> indicate based on how they relate to the correlation value (<em>r</em>). Consider the following correlation values and <span class="math inline">\(R^2\)</span> values:</p>
<div class="cell">
<div class="cell-output-display">

<div id="ruefbeilyt" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
  
  <table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false" style="-webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji'; display: table; border-collapse: collapse; line-height: normal; margin-left: auto; margin-right: auto; color: #333333; font-size: 16px; font-weight: normal; font-style: normal; background-color: #FFFFFF; width: 60%; border-top-style: solid; border-top-width: 2px; border-top-color: #A8A8A8; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #A8A8A8; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3;" width="60%" bgcolor="#FFFFFF"><caption><p>Correlation (<em>r</em>) and the corresponding <span class="math inline"><em>R</em><sup>2</sup></span> value.</p></caption>
  <thead style="border-style: none;">
    
    <tr class="gt_col_headings" style="border-style: none; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3;">
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="r" style="border-style: none; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: normal; text-transform: inherit; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 6px; padding-left: 5px; padding-right: 5px; overflow-x: hidden; text-align: center;" bgcolor="#FFFFFF" valign="bottom" align="center">r</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="R2" style="border-style: none; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: normal; text-transform: inherit; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 6px; padding-left: 5px; padding-right: 5px; overflow-x: hidden; text-align: center;" bgcolor="#FFFFFF" valign="bottom" align="center">R2</th>
    </tr>
  </thead>
  <tbody class="gt_table_body" style="border-style: none; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3;">
    <tr style="border-style: none;"><td headers="r" class="gt_row gt_center" style="border-style: none; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; text-align: center;" valign="middle" align="center">0.00</td>
<td headers="R2" class="gt_row gt_center" style="border-style: none; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; text-align: center;" valign="middle" align="center">0.000</td></tr>
    <tr style="border-style: none;"><td headers="r" class="gt_row gt_center" style="border-style: none; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; text-align: center;" valign="middle" align="center">±0.10</td>
<td headers="R2" class="gt_row gt_center" style="border-style: none; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; text-align: center;" valign="middle" align="center">0.010</td></tr>
    <tr style="border-style: none;"><td headers="r" class="gt_row gt_center" style="border-style: none; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; text-align: center;" valign="middle" align="center">±0.20</td>
<td headers="R2" class="gt_row gt_center" style="border-style: none; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; text-align: center;" valign="middle" align="center">0.040</td></tr>
    <tr style="border-style: none;"><td headers="r" class="gt_row gt_center" style="border-style: none; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; text-align: center;" valign="middle" align="center">±0.30</td>
<td headers="R2" class="gt_row gt_center" style="border-style: none; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; text-align: center;" valign="middle" align="center">0.090</td></tr>
    <tr style="border-style: none;"><td headers="r" class="gt_row gt_center" style="border-style: none; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; text-align: center;" valign="middle" align="center">±0.40</td>
<td headers="R2" class="gt_row gt_center" style="border-style: none; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; text-align: center;" valign="middle" align="center">0.160</td></tr>
    <tr style="border-style: none;"><td headers="r" class="gt_row gt_center" style="border-style: none; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; text-align: center;" valign="middle" align="center">±0.50</td>
<td headers="R2" class="gt_row gt_center" style="border-style: none; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; text-align: center;" valign="middle" align="center">0.250</td></tr>
    <tr style="border-style: none;"><td headers="r" class="gt_row gt_center" style="border-style: none; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; text-align: center;" valign="middle" align="center">±0.60</td>
<td headers="R2" class="gt_row gt_center" style="border-style: none; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; text-align: center;" valign="middle" align="center">0.360</td></tr>
    <tr style="border-style: none;"><td headers="r" class="gt_row gt_center" style="border-style: none; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; text-align: center;" valign="middle" align="center">±0.70</td>
<td headers="R2" class="gt_row gt_center" style="border-style: none; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; text-align: center;" valign="middle" align="center">0.490</td></tr>
    <tr style="border-style: none;"><td headers="r" class="gt_row gt_center" style="border-style: none; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; text-align: center;" valign="middle" align="center">±0.80</td>
<td headers="R2" class="gt_row gt_center" style="border-style: none; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; text-align: center;" valign="middle" align="center">0.640</td></tr>
    <tr style="border-style: none;"><td headers="r" class="gt_row gt_center" style="border-style: none; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; text-align: center;" valign="middle" align="center">±0.90</td>
<td headers="R2" class="gt_row gt_center" style="border-style: none; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; text-align: center;" valign="middle" align="center">0.810</td></tr>
    <tr style="border-style: none;"><td headers="r" class="gt_row gt_center" style="border-style: none; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; text-align: center;" valign="middle" align="center">±1.00</td>
<td headers="R2" class="gt_row gt_center" style="border-style: none; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; text-align: center;" valign="middle" align="center">1.000</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
<p>Unless the correlation value is 0 or 1, the <span class="math inline">\(R^2\)</span> value is always less than the correlation value (after all, we are squaring decimal values). This means that the amount of variation in the outcome that a predictor explains will generally be less than its level of correlation. In fact, until you get to correlations of <span class="math inline">\(r &gt; 0.70\)</span>, the amount of variation explained by a predictor is less than half.</p>
<p>Because the <span class="math inline">\(R^2\)</span> value is generally smaller than the <span class="math inline">\(r\)</span> value, it makes it a better indication of the strength of the relationship than the correlation coefficient, which is overly optimistic. Moreover, the value of <span class="math inline">\(R^2\)</span> is based on the residuals which measure the fit of the data to the line—which is how we defined strength.</p>
<p>Lastly, we point out that <span class="math inline">\(R^2\)</span> is often reported as an effect size for a regression model. We will come back to this in the next chapter when we discuss inference to see how this value measures the extent to which sample regression results diverge from the expectations specified in the null hypothesis.</p>
<div class="fyi">
<p>As with other quantitative metrics, whether a predictor is a “good” predictor can not be determined by the <span class="math inline">\(R^2\)</span> value alone. It also depends on the substantive field. An <span class="math inline">\(R^2\)</span> value of 0.34 might constitute a worthless predictor in some fields but a great predictor in another field. Only by reading and understanding the literature in a field can you make this judgement.</p>
</div>
<!-- ## References -->


</section>
</section>
<section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes">
<hr>
<ol>
<li id="fn1"><p>Technically we divide by <span class="math inline">\(n-1\)</span>, but for larger sample sizes <em>n</em> and <span class="math inline">\(n-1\)</span> are approximately the same.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./08-02-linear-regression-description.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">25</span>&nbsp; <span class="chapter-title">Linear Regression—Description</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./08-04-regression-inference.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">27</span>&nbsp; <span class="chapter-title">Inference for Linear Relationship</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>